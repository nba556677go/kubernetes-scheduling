[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mmain.go:65:[0m Log level was set to DEBUG
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:63:[0m Creating event broadcaster
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:116:[0m begin to wait for cache
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:121:[0m init the node cache successfully
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:127:[0m init the pod cache successfully
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:130:[0m end to wait for cache
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mcache.go:50:[0m begin to build scheduler cache
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod kube-controller-manager-node2 in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod kube-scheduler-node2 in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod coredns-5d78c9869d-vwgfg in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod gpushare-device-plugin-ds-mh2qh in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod kube-proxy-hbqk8 in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod my-scheduler-7f94fff6fb-vkbc9 in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod weave-net-jrf8d in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default with status Succeeded has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default with status Succeeded has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod etcd-node2 in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod gpushare-schd-extender-c57cff5b6-r7ssm in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod kube-apiserver-node2 in ns kube-system with status Running has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod dummy-highest in ns default with status Succeeded has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default with status Succeeded has GPU Mem 0
[ [0;36mdebug[0m ] 2023/10/30 00:13:20 [1;30mpod.go:107:[0m pod coredns-5d78c9869d-4sl97 in ns kube-system with status Running has GPU Mem 0
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mmain.go:102:[0m server starting on the port :12345
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:148:[0m Starting GPU Sharing Controller.
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:149:[0m Waiting for informer caches to sync
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:151:[0m Starting 1 workers.
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:156:[0m Started workers
[  [0;32minfo[0m ] 2023/10/30 00:13:20 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:22:47 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:22:47 [1;30mcache.go:90:[0m Add or update pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:9d6e3ce8-d52e-448f-82cc-ed0ceb75a8cd,ResourceVersion:1583986,Generation:0,CreationTimestamp:2023-10-30 00:22:47 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-l2gdx {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-l2gdx true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:my-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420427170} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420427190}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:22:47 [1;30mcache.go:91:[0m Node map[]
[ [0;36mdebug[0m ] 2023/10/30 00:22:47 [1;30mcache.go:93:[0m pod dummy-highest in ns default is not assigned to any node, skip
[  [0;32minfo[0m ] 2023/10/30 00:22:47 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:22:47 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:22:48 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[  [0;32minfo[0m ] 2023/10/30 00:22:48 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:22:48 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-20 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:22:48 [1;30mcache.go:90:[0m Add or update pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:4f63005e-feb5-4ac2-a351-cdc60b785d7b,ResourceVersion:1583987,Generation:0,CreationTimestamp:2023-10-30 00:22:47 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-mrqwk {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-mrqwk true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:my-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420668850} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420668880}],HostAliases:[],PriorityClassName:epoch-20,Priority:*999999979,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:22:48 [1;30mcache.go:91:[0m Node map[]
[ [0;36mdebug[0m ] 2023/10/30 00:22:48 [1;30mcache.go:93:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default is not assigned to any node, skip
[  [0;32minfo[0m ] 2023/10/30 00:22:48 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:22:48 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:22:48 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[  [0;32minfo[0m ] 2023/10/30 00:22:49 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:22:49 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:22:49 [1;30mcache.go:90:[0m Add or update pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:f06ae247-b472-48b3-bb2a-c551ea73b7f1,ResourceVersion:1583997,Generation:0,CreationTimestamp:2023-10-30 00:22:47 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bhsx6 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bhsx6 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:my-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4203870e0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420387110}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{PodScheduled False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:22:48 +0000 UTC SchedulerError Post "http://127.0.0.1:32766/gpushare-scheduler/filter": dial tcp 127.0.0.1:32766: connect: connection refused}],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:22:49 [1;30mcache.go:91:[0m Node map[]
[ [0;36mdebug[0m ] 2023/10/30 00:22:49 [1;30mcache.go:93:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default is not assigned to any node, skip
[  [0;32minfo[0m ] 2023/10/30 00:22:49 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:22:50 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:22:50 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:22:50 [1;30mcache.go:90:[0m Add or update pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:26274dd1-ba56-47d8-9991-8267248c2bf0,ResourceVersion:1583995,Generation:0,CreationTimestamp:2023-10-30 00:22:47 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-w29z7 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-w29z7 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:my-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420519a80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420519aa0}],HostAliases:[],PriorityClassName:epoch-5,Priority:*999999994,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{PodScheduled False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:22:48 +0000 UTC SchedulerError Post "http://127.0.0.1:32766/gpushare-scheduler/filter": dial tcp 127.0.0.1:32766: connect: connection refused}],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:22:50 [1;30mcache.go:91:[0m Node map[]
[ [0;36mdebug[0m ] 2023/10/30 00:22:50 [1;30mcache.go:93:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default is not assigned to any node, skip
[  [0;32minfo[0m ] 2023/10/30 00:22:50 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:22:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:22:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:22:50 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:22:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[  [0;32minfo[0m ] 2023/10/30 00:22:51 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:23:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:23:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:23:20 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:23:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:23:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:23:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:23:50 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:23:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:24:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:24:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:24:20 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:24:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:24:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:24:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:24:50 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:24:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:25:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:25:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:25:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:25:20 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:25:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:25:50 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:25:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:25:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:26:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:26:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:26:20 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:26:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:26:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:26:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:26:50 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:26:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:324:[0m delete pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:184:[0m pod dummy-highest in ns default has been deleted.
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:9d6e3ce8-d52e-448f-82cc-ed0ceb75a8cd,ResourceVersion:1584546,Generation:0,CreationTimestamp:2023-10-30 00:22:47 +0000 UTC,DeletionTimestamp:2023-10-30 00:27:05 +0000 UTC,DeletionGracePeriodSeconds:*0,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-l2gdx {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-l2gdx true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:my-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207cb6f0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207cb710}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{PodScheduled False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:22:47 +0000 UTC SchedulerError Post "http://127.0.0.1:32766/gpushare-scheduler/filter": dial tcp 127.0.0.1:32766: connect: connection refused}],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcache.go:118:[0m Node map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcache.go:123:[0m Failed to get node  due to node "" not found
[  [0;32minfo[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:324:[0m delete pod job-train-imgclassfication-cuda-epoch-20 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:324:[0m delete pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:05 [1;30mcontroller.go:324:[0m delete pod job-train-imgclassfication-cuda-epoch-5 in ns default
[  [0;32minfo[0m ] 2023/10/30 00:27:06 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:06 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-20 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:06 [1;30mcontroller.go:184:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default has been deleted.
[ [0;36mdebug[0m ] 2023/10/30 00:27:06 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:4f63005e-feb5-4ac2-a351-cdc60b785d7b,ResourceVersion:1584548,Generation:0,CreationTimestamp:2023-10-30 00:22:47 +0000 UTC,DeletionTimestamp:2023-10-30 00:27:05 +0000 UTC,DeletionGracePeriodSeconds:*0,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-mrqwk {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-mrqwk true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:my-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4208384e0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420838500}],HostAliases:[],PriorityClassName:epoch-20,Priority:*999999979,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{PodScheduled False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:22:48 +0000 UTC SchedulerError Post "http://127.0.0.1:32766/gpushare-scheduler/filter": dial tcp 127.0.0.1:32766: connect: connection refused}],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:27:06 [1;30mcache.go:118:[0m Node map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:06 [1;30mcache.go:123:[0m Failed to get node  due to node "" not found
[  [0;32minfo[0m ] 2023/10/30 00:27:06 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:27:07 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:07 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:07 [1;30mcontroller.go:184:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has been deleted.
[ [0;36mdebug[0m ] 2023/10/30 00:27:07 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:f06ae247-b472-48b3-bb2a-c551ea73b7f1,ResourceVersion:1584550,Generation:0,CreationTimestamp:2023-10-30 00:22:47 +0000 UTC,DeletionTimestamp:2023-10-30 00:27:05 +0000 UTC,DeletionGracePeriodSeconds:*0,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bhsx6 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bhsx6 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:my-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420839980} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4208399a0}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{PodScheduled False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:22:48 +0000 UTC SchedulerError Post "http://127.0.0.1:32766/gpushare-scheduler/filter": dial tcp 127.0.0.1:32766: connect: connection refused}],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:27:07 [1;30mcache.go:118:[0m Node map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:07 [1;30mcache.go:123:[0m Failed to get node  due to node "" not found
[  [0;32minfo[0m ] 2023/10/30 00:27:07 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:27:08 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:08 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:08 [1;30mcontroller.go:184:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has been deleted.
[ [0;36mdebug[0m ] 2023/10/30 00:27:08 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:26274dd1-ba56-47d8-9991-8267248c2bf0,ResourceVersion:1584552,Generation:0,CreationTimestamp:2023-10-30 00:22:47 +0000 UTC,DeletionTimestamp:2023-10-30 00:27:05 +0000 UTC,DeletionGracePeriodSeconds:*0,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-w29z7 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-w29z7 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:my-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42084ee20} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42084ee40}],HostAliases:[],PriorityClassName:epoch-5,Priority:*999999994,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{PodScheduled False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:22:48 +0000 UTC SchedulerError Post "http://127.0.0.1:32766/gpushare-scheduler/filter": dial tcp 127.0.0.1:32766: connect: connection refused}],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:27:08 [1;30mcache.go:118:[0m Node map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:08 [1;30mcache.go:123:[0m Failed to get node  due to node "" not found
[  [0;32minfo[0m ] 2023/10/30 00:27:08 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:27:09 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:90:[0m Add or update pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207047a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207047c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:91:[0m Node map[]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:93:[0m pod dummy-highest in ns default is not assigned to any node, skip
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:160:[0m /gpushare-scheduler/filter request body = &{0xc4202bcca0 <nil> <nil> false true {0 0} false false false 0x69bfd0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:81:[0m gpusharingfilter ExtenderArgs ={&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420705ca0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420705cc0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} nil 0xc4206703a0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mgpushare-predicate.go:17:[0m check if the pod name dummy-highest can be scheduled on node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:30:[0m NewNodeInfo() creates nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:282:[0m getAllGPUs: map[0:23] in node node2, and dev map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:42:[0m GetUsedGPUMemory() podMap map[], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:272:[0m getUsedGPUs: map[0:0] in node node2, and devs map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:121:[0m AvailableGPUs: map[0:23] in node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mgpushare-predicate.go:31:[0m The pod dummy-highest in the namespace default can be scheduled on node2
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:93:[0m gpusharingfilter extenderFilterResult = {"Nodes":null,"NodeNames":["node2"],"FailedNodes":{},"Error":""}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:162:[0m /gpushare-scheduler/filter response=&{0xc4207220a0 0xc4202a6300 0xc4200d1200 0x565b70 true false false false 0xc4200d1380 {0xc42029e0e0 map[Content-Type:[application/json]] false false} map[Content-Type:[application/json]] true 64 -1 200 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc42037a070 0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:160:[0m /gpushare-scheduler/bind request body = &{0xc42064c720 <nil> <nil> false true {0 0} false false false 0x69bfd0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:121:[0m gpusharingBind ExtenderArgs ={dummy-highest default 953a7c4a-da2d-41b0-bf45-2a4a17418e4d node2}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:143:[0m Allocate() ----Begin to allocate GPU for gpu mem for pod dummy-highest in ns default----
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:282:[0m getAllGPUs: map[0:23] in node node2, and dev map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:42:[0m GetUsedGPUMemory() podMap map[], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:272:[0m getUsedGPUs: map[0:0] in node node2, and devs map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:220:[0m reqGPU for pod dummy-highest in ns default: 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:221:[0m AvailableGPUs: map[0:23] in node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:239:[0m Find candidate dev id 0 for pod dummy-highest in ns default successfully.
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:147:[0m Allocate() 1. Allocate GPU ID 0 to pod dummy-highest in ns default.----
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:179:[0m Allocate() 2. Try to bind pod dummy-highest in default namespace to node  with &Binding{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:,Generation:0,CreationTimestamp:0001-01-01 00:00:00 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Target:ObjectReference{Kind:Node,Namespace:,Name:node2,UID:,APIVersion:,ResourceVersion:,FieldPath:,},}
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666599950909]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:193:[0m Allocate() 3. Try to add pod dummy-highest in ns default to dev 0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:57:[0m dev.addPod() Pod dummy-highest in ns default with the GPU ID 0 will be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:64:[0m dev.addPod() after updated is map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:204:[0m Allocate() ----End to allocate GPU for gpu mem for pod dummy-highest in ns default----
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:137:[0m extenderBindingResult = {"Error":""}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:162:[0m /gpushare-scheduler/bind response=&{0xc4207220a0 0xc4202a6800 0xc4200d17c0 0x565b70 true false false false 0xc4200d1380 {0xc42029e7e0 map[Content-Type:[application/json]] false false} map[Content-Type:[application/json]] true 12 -1 200 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc42037a2a0 0}
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666599950909 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666599950909 ALIYUN_COM_GPU_MEM_DEV:23]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:160:[0m /gpushare-scheduler/filter request body = &{0xc4202112a0 <nil> <nil> false true {0 0} false false false 0x69bfd0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:81:[0m gpusharingfilter ExtenderArgs ={&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584613,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42067f750} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42067f780}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} nil 0xc4202115e0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mgpushare-predicate.go:17:[0m check if the pod name job-train-imgclassfication-cuda-epoch-20 can be scheduled on node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:282:[0m getAllGPUs: map[0:23] in node node2, and dev map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:42:[0m GetUsedGPUMemory() podMap map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod dummy-highest in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:272:[0m getUsedGPUs: map[0:2] in node node2, and devs map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:121:[0m AvailableGPUs: map[0:21] in node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mgpushare-predicate.go:31:[0m The pod job-train-imgclassfication-cuda-epoch-20 in the namespace default can be scheduled on node2
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:93:[0m gpusharingfilter extenderFilterResult = {"Nodes":null,"NodeNames":["node2"],"FailedNodes":{},"Error":""}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:162:[0m /gpushare-scheduler/filter response=&{0xc4207220a0 0xc4202a6f00 0xc42030ee80 0x565b70 true false false false 0xc4200d1380 {0xc42029ec40 map[Content-Type:[application/json]] false false} map[Content-Type:[application/json]] true 64 -1 200 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc42037a5b0 0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:160:[0m /gpushare-scheduler/bind request body = &{0xc4200162c0 <nil> <nil> false true {0 0} false false false 0x69bfd0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:121:[0m gpusharingBind ExtenderArgs ={job-train-imgclassfication-cuda-epoch-20 default 770de50c-ce6c-4178-a823-400051507c85 node2}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:143:[0m Allocate() ----Begin to allocate GPU for gpu mem for pod job-train-imgclassfication-cuda-epoch-20 in ns default----
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:282:[0m getAllGPUs: map[0:23] in node node2, and dev map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:42:[0m GetUsedGPUMemory() podMap map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod dummy-highest in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:272:[0m getUsedGPUs: map[0:2] in node node2, and devs map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:220:[0m reqGPU for pod job-train-imgclassfication-cuda-epoch-20 in ns default: 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:221:[0m AvailableGPUs: map[0:21] in node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:239:[0m Find candidate dev id 0 for pod job-train-imgclassfication-cuda-epoch-20 in ns default successfully.
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:147:[0m Allocate() 1. Allocate GPU ID 0 to pod job-train-imgclassfication-cuda-epoch-20 in ns default.----
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666652742128 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:179:[0m Allocate() 2. Try to bind pod job-train-imgclassfication-cuda-epoch-20 in default namespace to node  with &Binding{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:,Generation:0,CreationTimestamp:0001-01-01 00:00:00 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Target:ObjectReference{Kind:Node,Namespace:,Name:node2,UID:,APIVersion:,ResourceVersion:,FieldPath:,},}
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666599950909] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:193:[0m Allocate() 3. Try to add pod job-train-imgclassfication-cuda-epoch-20 in ns default to dev 0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:57:[0m dev.addPod() Pod job-train-imgclassfication-cuda-epoch-20 in ns default with the GPU ID 0 will be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:64:[0m dev.addPod() after updated is map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584613,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666652742128,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420519228} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420519230}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:204:[0m Allocate() ----End to allocate GPU for gpu mem for pod job-train-imgclassfication-cuda-epoch-20 in ns default----
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:137:[0m extenderBindingResult = {"Error":""}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:162:[0m /gpushare-scheduler/bind response=&{0xc4207220a0 0xc4202a7100 0xc42030f680 0x565b70 true false false false 0xc4200d1380 {0xc42029efc0 map[Content-Type:[application/json]] false false} map[Content-Type:[application/json]] true 12 -1 200 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc42037a850 0}
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666652742128 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666652742128 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23]
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666652742128 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:160:[0m /gpushare-scheduler/filter request body = &{0xc420314000 <nil> <nil> false true {0 0} false false false 0x69bfd0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:81:[0m gpusharingfilter ExtenderArgs ={&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584620,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207a0110} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207a0130}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} nil 0xc420222240}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mgpushare-predicate.go:17:[0m check if the pod name job-train-imgclassfication-cuda-epoch-10 can be scheduled on node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:282:[0m getAllGPUs: map[0:23] in node node2, and dev map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:42:[0m GetUsedGPUMemory() podMap map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584613,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666652742128,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420519228} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420519230}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod dummy-highest in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:272:[0m getUsedGPUs: map[0:4] in node node2, and devs map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:121:[0m AvailableGPUs: map[0:19] in node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mgpushare-predicate.go:31:[0m The pod job-train-imgclassfication-cuda-epoch-10 in the namespace default can be scheduled on node2
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:93:[0m gpusharingfilter extenderFilterResult = {"Nodes":null,"NodeNames":["node2"],"FailedNodes":{},"Error":""}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:162:[0m /gpushare-scheduler/filter response=&{0xc4207220a0 0xc42078e000 0xc42037e2c0 0x565b70 true false false false 0xc42037e340 {0xc420940000 map[Content-Type:[application/json]] false false} map[Content-Type:[application/json]] true 64 -1 200 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc4206901c0 0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:160:[0m /gpushare-scheduler/bind request body = &{0xc420223920 <nil> <nil> false true {0 0} false false false 0x69bfd0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:121:[0m gpusharingBind ExtenderArgs ={job-train-imgclassfication-cuda-epoch-10 default 3552ad35-8147-48b3-a954-9accd23aa3d7 node2}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:143:[0m Allocate() ----Begin to allocate GPU for gpu mem for pod job-train-imgclassfication-cuda-epoch-10 in ns default----
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:282:[0m getAllGPUs: map[0:23] in node node2, and dev map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:42:[0m GetUsedGPUMemory() podMap map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584613,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666652742128,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420519228} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420519230}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod dummy-highest in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:272:[0m getUsedGPUs: map[0:4] in node node2, and devs map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:220:[0m reqGPU for pod job-train-imgclassfication-cuda-epoch-10 in ns default: 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:221:[0m AvailableGPUs: map[0:19] in node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:239:[0m Find candidate dev id 0 for pod job-train-imgclassfication-cuda-epoch-10 in ns default successfully.
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:147:[0m Allocate() 1. Allocate GPU ID 0 to pod job-train-imgclassfication-cuda-epoch-10 in ns default.----
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:179:[0m Allocate() 2. Try to bind pod job-train-imgclassfication-cuda-epoch-10 in default namespace to node  with &Binding{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:,Generation:0,CreationTimestamp:0001-01-01 00:00:00 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Target:ObjectReference{Kind:Node,Namespace:,Name:node2,UID:,APIVersion:,ResourceVersion:,FieldPath:,},}
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666724886405]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:193:[0m Allocate() 3. Try to add pod job-train-imgclassfication-cuda-epoch-10 in ns default to dev 0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:57:[0m dev.addPod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be added to device map
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666724886405 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666724886405 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:64:[0m dev.addPod() after updated is map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584613,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666652742128,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420519228} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420519230}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584620,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666724886405,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207a12c0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207a12c8}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:204:[0m Allocate() ----End to allocate GPU for gpu mem for pod job-train-imgclassfication-cuda-epoch-10 in ns default----
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:137:[0m extenderBindingResult = {"Error":""}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:162:[0m /gpushare-scheduler/bind response=&{0xc4207220a0 0xc420976100 0xc420962340 0x565b70 true false false false 0xc42037e340 {0xc420982380 map[Content-Type:[application/json]] false false} map[Content-Type:[application/json]] true 12 -1 200 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc420690540 0}
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666724886405 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:160:[0m /gpushare-scheduler/filter request body = &{0xc420641be0 <nil> <nil> false true {0 0} false false false 0x69bfd0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:81:[0m gpusharingfilter ExtenderArgs ={&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584626,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420669b60} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420669b80}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} nil 0xc420641f00}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mgpushare-predicate.go:17:[0m check if the pod name job-train-imgclassfication-cuda-epoch-5 can be scheduled on node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:282:[0m getAllGPUs: map[0:23] in node node2, and dev map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:42:[0m GetUsedGPUMemory() podMap map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584613,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666652742128,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420519228} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420519230}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584620,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666724886405,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207a12c0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207a12c8}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod dummy-highest in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:272:[0m getUsedGPUs: map[0:6] in node node2, and devs map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:121:[0m AvailableGPUs: map[0:17] in node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mgpushare-predicate.go:31:[0m The pod job-train-imgclassfication-cuda-epoch-5 in the namespace default can be scheduled on node2
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:93:[0m gpusharingfilter extenderFilterResult = {"Nodes":null,"NodeNames":["node2"],"FailedNodes":{},"Error":""}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:162:[0m /gpushare-scheduler/filter response=&{0xc4207220a0 0xc420328000 0xc4200d0e80 0x565b70 true false false false 0xc42037e340 {0xc4205aa380 map[Content-Type:[application/json]] false false} map[Content-Type:[application/json]] true 64 -1 200 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc4202fb650 0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:160:[0m /gpushare-scheduler/bind request body = &{0xc4205678a0 <nil> <nil> false true {0 0} false false false 0x69bfd0}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:121:[0m gpusharingBind ExtenderArgs ={job-train-imgclassfication-cuda-epoch-5 default f70d3aa2-73a9-4594-8113-d2ee754ea132 node2}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:143:[0m Allocate() ----Begin to allocate GPU for gpu mem for pod job-train-imgclassfication-cuda-epoch-5 in ns default----
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:282:[0m getAllGPUs: map[0:23] in node node2, and dev map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:42:[0m GetUsedGPUMemory() podMap map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584613,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666652742128,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420519228} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420519230}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584620,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666724886405,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207a12c0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207a12c8}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod dummy-highest in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mpod.go:107:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default with status Pending has GPU Mem 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:272:[0m getUsedGPUs: map[0:6] in node node2, and devs map[0:0xc4206709e0]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:220:[0m reqGPU for pod job-train-imgclassfication-cuda-epoch-5 in ns default: 2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:221:[0m AvailableGPUs: map[0:17] in node node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:239:[0m Find candidate dev id 0 for pod job-train-imgclassfication-cuda-epoch-5 in ns default successfully.
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:147:[0m Allocate() 1. Allocate GPU ID 0 to pod job-train-imgclassfication-cuda-epoch-5 in ns default.----
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:179:[0m Allocate() 2. Try to bind pod job-train-imgclassfication-cuda-epoch-5 in default namespace to node  with &Binding{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:,Generation:0,CreationTimestamp:0001-01-01 00:00:00 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Target:ObjectReference{Kind:Node,Namespace:,Name:node2,UID:,APIVersion:,ResourceVersion:,FieldPath:,},}
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666786558570]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:193:[0m Allocate() 3. Try to add pod job-train-imgclassfication-cuda-epoch-5 in ns default to dev 0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:57:[0m dev.addPod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be added to device map
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666786558570 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666786558570 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:false]
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mdeviceinfo.go:64:[0m dev.addPod() after updated is map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584609,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666599950909,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420692758} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420692760}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584613,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666652742128,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420519228} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420519230}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584620,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666724886405,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207a12c0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207a12c8}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} f70d3aa2-73a9-4594-8113-d2ee754ea132:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584626,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666786558570,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206888b8} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206888c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mnodeinfo.go:204:[0m Allocate() ----End to allocate GPU for gpu mem for pod job-train-imgclassfication-cuda-epoch-5 in ns default----
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:137:[0m extenderBindingResult = {"Error":""}
[ [0;36mdebug[0m ] 2023/10/30 00:27:46 [1;30mroutes.go:162:[0m /gpushare-scheduler/bind response=&{0xc4207220a0 0xc4202a6300 0xc42030f9c0 0x565b70 true false false false 0xc420964180 {0xc4209401c0 map[Content-Type:[application/json]] false false} map[Content-Type:[application/json]] true 12 -1 200 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc42037a070 0}
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:false ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666786558570 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0] and new annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23]
[  [0;32minfo[0m ] 2023/10/30 00:27:46 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Pending; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23]
[  [0;32minfo[0m ] 2023/10/30 00:27:47 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:47 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:47 [1;30mcache.go:90:[0m Add or update pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584618,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42078bcb0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42078bcd0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {ContainerStateWaiting{Reason:ContainerCreating,Message:,} nil nil} {nil nil nil} false 0 nba556677/train_tasks:cuda11.6  }],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:27:47 [1;30mcache.go:91:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:27:47 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:47 [1;30mnodeinfo.go:94:[0m addOrUpdatePod() Pod dummy-highest in ns default with the GPU ID 0 should be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:47 [1;30mdeviceinfo.go:57:[0m dev.addPod() Pod dummy-highest in ns default with the GPU ID 0 will be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:47 [1;30mdeviceinfo.go:64:[0m dev.addPod() after updated is map[f70d3aa2-73a9-4594-8113-d2ee754ea132:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584626,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666786558570,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206888b8} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206888c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584618,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420704508} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420704510}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {ContainerStateWaiting{Reason:ContainerCreating,Message:,} nil nil} {nil nil nil} false 0 nba556677/train_tasks:cuda11.6  }],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584613,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666652742128,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420519228} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420519230}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584620,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666724886405,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207a12c0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207a12c8}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:27:47 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:27:47 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Pending, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:27:47 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Pending, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:27:47 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Pending, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:27:47 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Pending, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0]
[  [0;32minfo[0m ] 2023/10/30 00:27:48 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:48 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-20 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:48 [1;30mcache.go:90:[0m Add or update pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42084fe30} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42084fe50}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:27:48 [1;30mcache.go:91:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:27:48 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:48 [1;30mnodeinfo.go:94:[0m addOrUpdatePod() Pod job-train-imgclassfication-cuda-epoch-20 in ns default with the GPU ID 0 should be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:48 [1;30mdeviceinfo.go:57:[0m dev.addPod() Pod job-train-imgclassfication-cuda-epoch-20 in ns default with the GPU ID 0 will be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:48 [1;30mdeviceinfo.go:64:[0m dev.addPod() after updated is map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584618,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420704508} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420704510}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {ContainerStateWaiting{Reason:ContainerCreating,Message:,} nil nil} {nil nil nil} false 0 nba556677/train_tasks:cuda11.6  }],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584620,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666724886405,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207a12c0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207a12c8}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} f70d3aa2-73a9-4594-8113-d2ee754ea132:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584626,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666786558570,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206888b8} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206888c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:27:48 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:27:49 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:49 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:49 [1;30mcache.go:90:[0m Add or update pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42084ee30} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42084ee50}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:27:49 [1;30mcache.go:91:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:27:49 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:49 [1;30mnodeinfo.go:94:[0m addOrUpdatePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 should be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:49 [1;30mdeviceinfo.go:57:[0m dev.addPod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:49 [1;30mdeviceinfo.go:64:[0m dev.addPod() after updated is map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584618,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420704508} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420704510}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {ContainerStateWaiting{Reason:ContainerCreating,Message:,} nil nil} {nil nil nil} false 0 nba556677/train_tasks:cuda11.6  }],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} f70d3aa2-73a9-4594-8113-d2ee754ea132:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584626,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: false,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666786558570,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206888b8} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206888c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[],Message:,Reason:,HostIP:,PodIP:,StartTime:<nil>,ContainerStatuses:[],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:27:49 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23]
[  [0;32minfo[0m ] 2023/10/30 00:27:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23]
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:27:50 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mcache.go:90:[0m Add or update pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584645,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420041760} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420041780}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mcache.go:91:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mnodeinfo.go:94:[0m addOrUpdatePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 should be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mdeviceinfo.go:57:[0m dev.addPod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be added to device map
[ [0;36mdebug[0m ] 2023/10/30 00:27:50 [1;30mdeviceinfo.go:64:[0m dev.addPod() after updated is map[953a7c4a-da2d-41b0-bf45-2a4a17418e4d:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584618,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420704508} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420704510}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Pending,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC ContainersNotReady containers with unready status: [dummy]} {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {ContainerStateWaiting{Reason:ContainerCreating,Message:,} nil nil} {nil nil nil} false 0 nba556677/train_tasks:cuda11.6  }],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} f70d3aa2-73a9-4594-8113-d2ee754ea132:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584645,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207043d0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207043d8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:27:50 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:27:51 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:28:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:28:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:28:20 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:28:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:28:36 [1;30mcontroller.go:295:[0m No need to update pod name dummy-highest in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:28:37 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Running, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0]
[ [0;36mdebug[0m ] 2023/10/30 00:28:37 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:28:37 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:28:37 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584715,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420668240} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420668260}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:28:37 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:28:37 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:28:37 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:28:37 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} f70d3aa2-73a9-4594-8113-d2ee754ea132:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584645,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207043d0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207043d8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:28:37 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:28:38 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756]
[  [0;32minfo[0m ] 2023/10/30 00:28:38 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:28:38 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:28:38 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:28:38 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:28:38 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:28:38 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:28:38 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:28:38 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} f70d3aa2-73a9-4594-8113-d2ee754ea132:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584645,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207043d0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207043d8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:28:38 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:28:39 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615]
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0]
[  [0;32minfo[0m ] 2023/10/30 00:28:50 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756]
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:28:50 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} f70d3aa2-73a9-4594-8113-d2ee754ea132:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584645,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207043d0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207043d8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:28:50 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:28:51 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:29:15 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956]
[  [0;32minfo[0m ] 2023/10/30 00:29:16 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Running, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:29:16 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:29:16 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:29:16 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584769,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207be6e0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207be700}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:29:16 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:29:16 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:29:16 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:29:16 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:29:16 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:29:17 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:29:17 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:29:17 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:29:17 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:29:17 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:29:17 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:29:17 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:29:17 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:29:17 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:29:17 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:29:18 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:29:20 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[ [0;36mdebug[0m ] 2023/10/30 00:29:20 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:29:20 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:29:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:29:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:29:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:29:20 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:29:20 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:29:20 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:29:20 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:29:20 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:29:20 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:29:21 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:29:21 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:29:21 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:29:21 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:29:21 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:29:21 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:29:21 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:29:21 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:29:21 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:29:22 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:29:50 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23] and new annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0]
[ [0;36mdebug[0m ] 2023/10/30 00:29:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:29:50 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:29:50 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:29:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:29:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:29:50 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:29:50 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:29:50 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:29:50 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:29:50 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:29:50 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:29:51 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:29:51 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:29:51 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:29:51 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:29:51 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:29:51 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:29:51 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:29:51 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:29:51 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:29:52 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:30:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:30:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:30:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:30:20 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:30:20 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:30:20 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:30:20 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:30:20 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:30:20 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:30:20 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:30:20 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:30:20 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:30:21 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:30:21 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:30:21 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:30:21 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:30:21 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:30:21 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:30:21 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:30:21 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},} 3552ad35-8147-48b3-a954-9accd23aa3d7:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584646,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4209e2060} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4209e2068}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:30:21 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:30:22 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:30:31 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615]
[  [0;32minfo[0m ] 2023/10/30 00:30:32 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Running, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23] and new annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0]
[ [0;36mdebug[0m ] 2023/10/30 00:30:32 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:30:32 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:30:32 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584871,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42067f160} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42067f180}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:30:30 +0000 UTC,ContainerID:containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:30:32 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:30:32 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:30:32 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:30:32 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:30:32 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:30:33 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[  [0;32minfo[0m ] 2023/10/30 00:30:33 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:30:33 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:30:33 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:30:33 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584873,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420688560} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420688580}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:30:30 +0000 UTC,ContainerID:containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:30:33 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:30:33 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:30:33 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:30:33 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:30:33 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:30:34 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:30:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:30:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[ [0;36mdebug[0m ] 2023/10/30 00:30:50 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:30:50 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has completed.
[  [0;32minfo[0m ] 2023/10/30 00:30:50 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:30:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23]
[ [0;36mdebug[0m ] 2023/10/30 00:30:50 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584873,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420688560} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420688580}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:30:30 +0000 UTC,ContainerID:containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:30:50 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:30:50 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:30:50 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:30:50 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:30:50 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:30:51 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:30:51 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:30:51 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:30:51 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:30:51 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:30:51 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:30:51 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:30:51 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:30:51 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:30:52 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:30:52 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:30:52 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:30:52 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:30:52 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:30:52 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:30:52 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:30:52 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:30:52 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:30:53 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:31:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:31:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[ [0;36mdebug[0m ] 2023/10/30 00:31:20 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:31:20 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has completed.
[  [0;32minfo[0m ] 2023/10/30 00:31:20 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756]
[ [0;36mdebug[0m ] 2023/10/30 00:31:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:31:20 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584873,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420688560} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420688580}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:30:30 +0000 UTC,ContainerID:containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:31:20 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:31:20 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:31:20 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:31:20 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:31:20 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:31:21 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:31:21 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:31:21 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:31:21 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:31:21 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:31:21 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:31:21 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:31:21 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:31:21 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:31:22 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:31:22 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:31:22 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:31:22 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:31:22 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:31:22 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:31:22 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:31:22 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:31:22 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:31:23 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:31:50 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:31:50 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:31:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:31:50 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:31:50 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[  [0;32minfo[0m ] 2023/10/30 00:31:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:31:50 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:31:50 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:31:50 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:31:50 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:31:50 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:31:50 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:31:51 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:31:51 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:31:51 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:31:51 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:31:51 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:31:51 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:31:51 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:31:51 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:31:51 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:31:52 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:31:52 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:31:52 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:31:52 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584873,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420688560} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420688580}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:30:30 +0000 UTC,ContainerID:containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:31:52 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:31:52 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:31:52 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:31:52 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:31:52 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:31:53 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0] and new annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23]
[  [0;32minfo[0m ] 2023/10/30 00:32:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[ [0;36mdebug[0m ] 2023/10/30 00:32:20 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:32:20 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:32:20 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23] and new annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true]
[  [0;32minfo[0m ] 2023/10/30 00:32:20 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:32:20 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:32:20 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:32:20 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:32:20 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:32:20 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:32:20 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:21 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:32:21 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:32:21 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:32:21 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584873,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420688560} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420688580}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:30:30 +0000 UTC,ContainerID:containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:32:21 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:32:21 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:32:21 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:32:21 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:32:21 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:22 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:32:22 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:32:22 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:32:22 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:32:22 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:32:22 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:32:22 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:32:22 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[770de50c-ce6c-4178-a823-400051507c85:&Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1584647,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc42038a7a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc42038a7a8}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Running,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  } {Ready True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {ContainersReady True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:47 +0000 UTC  } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil ContainerStateRunning{StartedAt:2023-10-30 00:27:47 +0000 UTC,} nil} {nil nil nil} true 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:32:22 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:23 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:32:35 [1;30mcontroller.go:295:[0m No need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Running; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:32:36 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Running, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:32:36 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-20 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:32:36 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:32:36 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1585035,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207be030} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207be050}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:32:35 +0000 UTC,ContainerID:containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:32:36 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:32:36 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:32:36 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-20 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:32:36 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:32:36 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:37 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:32:37 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:32:37 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-20 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:32:37 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:32:37 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1585036,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bf2d0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bf2f0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:32:35 +0000 UTC,ContainerID:containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:32:37 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:32:37 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:32:37 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-20 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:32:37 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:32:37 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:38 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:50 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:32:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23] and new annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23]
[ [0;36mdebug[0m ] 2023/10/30 00:32:50 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:32:50 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[  [0;32minfo[0m ] 2023/10/30 00:32:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615]
[  [0;32minfo[0m ] 2023/10/30 00:32:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:32:50 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:32:50 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:32:50 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:32:50 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:32:50 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:32:50 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:51 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:32:51 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-20 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:32:51 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:32:51 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1585036,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bf2d0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bf2f0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:32:35 +0000 UTC,ContainerID:containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:32:51 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:32:51 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:32:51 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-20 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:32:51 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:32:51 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:52 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:32:52 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:32:52 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:32:52 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584873,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420688560} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420688580}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:30:30 +0000 UTC,ContainerID:containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:32:52 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:32:52 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:32:52 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:32:52 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:32:52 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:53 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:32:53 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:32:53 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:32:53 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:32:53 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:32:53 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:32:53 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:32:53 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:32:53 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:32:54 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:20 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:33:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:33:20 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:33:20 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[  [0;32minfo[0m ] 2023/10/30 00:33:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:33:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0]
[ [0;36mdebug[0m ] 2023/10/30 00:33:20 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:33:20 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:33:20 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:33:20 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:33:20 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:33:20 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:21 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:33:21 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-20 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:33:21 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:33:21 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1585036,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bf2d0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bf2f0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:32:35 +0000 UTC,ContainerID:containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:33:21 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:33:21 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:33:21 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-20 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:33:21 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:33:21 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:22 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:33:22 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:33:22 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:33:22 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584873,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420688560} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420688580}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:30:30 +0000 UTC,ContainerID:containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:33:22 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:33:22 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:33:22 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:33:22 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:33:22 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:23 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:33:23 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:33:23 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:33:23 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:33:23 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:33:23 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:33:23 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:33:23 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:33:23 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:24 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:33:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:33:50 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-10 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:33:50 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-10 in ns default has completed.
[  [0;32minfo[0m ] 2023/10/30 00:33:50 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756]
[  [0;32minfo[0m ] 2023/10/30 00:33:50 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:33:50 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-10,GenerateName:,Namespace:default,SelfLink:,UID:3552ad35-8147-48b3-a954-9accd23aa3d7,ResourceVersion:1584873,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666756151615,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-bl755 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-10 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 10] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 120 nil} {CPU_COMPTIME 200 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-bl755 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc420688560} {node.kubernetes.io/unreachable Exists  NoExecute 0xc420688580}],HostAliases:[],PriorityClassName:epoch-10,Priority:*999999989,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:30:31 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.6,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-10 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:30:30 +0000 UTC,ContainerID:containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://de4d7d368ae28daa3e2ea59e828429fb2f2ca585ef24d6d464001131960031cd}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:33:50 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:33:50 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:33:50 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-10 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:33:50 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:33:50 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:51 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:33:51 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-5 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:33:51 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-5 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:33:51 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-5,GenerateName:,Namespace:default,SelfLink:,UID:f70d3aa2-73a9-4594-8113-d2ee754ea132,ResourceVersion:1584772,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666818982956,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-qxk88 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-5 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 5] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 60 nil} {CPU_COMPTIME 100 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-qxk88 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bfe80} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bfea0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:29:15 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.7,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-5 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:29:14 +0000 UTC,ContainerID:containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://c9da5e1fb208e9e49c17b9895e5e16f8e38a58e00c381be8767ab6bfe2a339f3}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:33:51 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:33:51 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:33:51 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-5 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:33:51 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:33:51 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:52 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:33:52 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:33:52 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:33:52 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:33:52 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:33:52 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:33:52 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:33:52 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:33:52 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:53 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[ [0;36mdebug[0m ] 2023/10/30 00:33:53 [1;30mcontroller.go:176:[0m begin to sync gpushare pod job-train-imgclassfication-cuda-epoch-20 in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:33:53 [1;30mcontroller.go:194:[0m pod job-train-imgclassfication-cuda-epoch-20 in ns default has completed.
[ [0;36mdebug[0m ] 2023/10/30 00:33:53 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:job-train-imgclassfication-cuda-epoch-20,GenerateName:,Namespace:default,SelfLink:,UID:770de50c-ce6c-4178-a823-400051507c85,ResourceVersion:1585036,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666691248939,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-dlx4r {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{c-train-epoch-20 nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 20] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 240 nil} {CPU_COMPTIME 400 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-dlx4r true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4207bf2d0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4207bf2f0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:32:35 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.5,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{c-train-epoch-20 {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:32:35 +0000 UTC,ContainerID:containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://b0c6ef247073f97930b844c74162bfb4f13b1a55aa0ab4d664aad5983605d45c}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:33:53 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:33:53 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:33:53 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod job-train-imgclassfication-cuda-epoch-20 in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:33:53 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:33:53 [1;30mcontroller.go:223:[0m end processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:33:54 [1;30mcontroller.go:210:[0m begin processNextWorkItem()
[  [0;32minfo[0m ] 2023/10/30 00:34:20 [1;30mcontroller.go:286:[0m Need to update pod name dummy-highest in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666651263756 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[  [0;32minfo[0m ] 2023/10/30 00:34:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-20 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666691248939 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:34:20 [1;30mcontroller.go:176:[0m begin to sync gpushare pod dummy-highest in ns default
[ [0;36mdebug[0m ] 2023/10/30 00:34:20 [1;30mcontroller.go:194:[0m pod dummy-highest in ns default has completed.
[  [0;32minfo[0m ] 2023/10/30 00:34:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-10 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615 ALIYUN_COM_GPU_MEM_DEV:23] and new annotation map[ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2 ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666756151615]
[  [0;32minfo[0m ] 2023/10/30 00:34:20 [1;30mcontroller.go:286:[0m Need to update pod name job-train-imgclassfication-cuda-epoch-5 in ns default and old status is Succeeded, new status is Succeeded; its old annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2] and new annotation map[ALIYUN_COM_GPU_MEM_ASSIGNED:true ALIYUN_COM_GPU_MEM_ASSUME_TIME:1698625666818982956 ALIYUN_COM_GPU_MEM_DEV:23 ALIYUN_COM_GPU_MEM_IDX:0 ALIYUN_COM_GPU_MEM_POD:2]
[ [0;36mdebug[0m ] 2023/10/30 00:34:20 [1;30mcache.go:117:[0m Remove pod info: &Pod{ObjectMeta:k8s_io_apimachinery_pkg_apis_meta_v1.ObjectMeta{Name:dummy-highest,GenerateName:,Namespace:default,SelfLink:,UID:953a7c4a-da2d-41b0-bf45-2a4a17418e4d,ResourceVersion:1584716,Generation:0,CreationTimestamp:2023-10-30 00:27:46 +0000 UTC,DeletionTimestamp:<nil>,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{ALIYUN_COM_GPU_MEM_ASSIGNED: true,ALIYUN_COM_GPU_MEM_ASSUME_TIME: 1698625666651263756,ALIYUN_COM_GPU_MEM_DEV: 23,ALIYUN_COM_GPU_MEM_IDX: 0,ALIYUN_COM_GPU_MEM_POD: 2,},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,},Spec:PodSpec{Volumes:[{kube-api-access-2r5g8 {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ProjectedVolumeSource{Sources:[{nil nil nil ServiceAccountTokenProjection{Audience:,ExpirationSeconds:*3607,Path:token,}} {nil nil &ConfigMapProjection{LocalObjectReference:LocalObjectReference{Name:kube-root-ca.crt,},Items:[{ca.crt ca.crt <nil>}],Optional:nil,} nil} {nil &DownwardAPIProjection{Items:[{namespace ObjectFieldSelector{APIVersion:v1,FieldPath:metadata.namespace,} nil <nil>}],} nil nil}],DefaultMode:*420,} nil nil nil}}],Containers:[{dummy nba556677/train_tasks:cuda11.6 [python ./cnn_cifar/train.py cuda 2] []  [] [] [{GPU_MEMORY 1747 nil} {GPU_COMPTIME 24 nil} {CPU_COMPTIME 40 nil}] {map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}] map[aliyun.com/gpu-mem:{{2 0} {<nil>} 2 DecimalSI}]} [{kube-api-access-2r5g8 true /var/run/secrets/kubernetes.io/serviceaccount  <nil>}] [] nil nil nil /dev/termination-log File IfNotPresent nil false false false}],RestartPolicy:Never,TerminationGracePeriodSeconds:*30,ActiveDeadlineSeconds:nil,DNSPolicy:ClusterFirst,NodeSelector:map[string]string{},ServiceAccountName:default,DeprecatedServiceAccount:default,NodeName:node2,HostNetwork:false,HostPID:false,HostIPC:false,SecurityContext:&PodSecurityContext{SELinuxOptions:nil,RunAsUser:nil,RunAsNonRoot:nil,SupplementalGroups:[],FSGroup:nil,RunAsGroup:nil,Sysctls:[],},ImagePullSecrets:[],Hostname:,Subdomain:,Affinity:nil,SchedulerName:default-scheduler,InitContainers:[],AutomountServiceAccountToken:nil,Tolerations:[{node.kubernetes.io/not-ready Exists  NoExecute 0xc4206506a0} {node.kubernetes.io/unreachable Exists  NoExecute 0xc4206506c0}],HostAliases:[],PriorityClassName:,Priority:*0,DNSConfig:nil,ShareProcessNamespace:nil,ReadinessGates:[],},Status:PodStatus{Phase:Succeeded,Conditions:[{Initialized True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC PodCompleted } {Ready False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {ContainersReady False 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:28:36 +0000 UTC PodCompleted } {PodScheduled True 0001-01-01 00:00:00 +0000 UTC 2023-10-30 00:27:46 +0000 UTC  }],Message:,Reason:,HostIP:192.168.1.246,PodIP:10.32.0.4,StartTime:2023-10-30 00:27:46 +0000 UTC,ContainerStatuses:[{dummy {nil nil ContainerStateTerminated{ExitCode:0,Signal:0,Reason:Completed,Message:,StartedAt:2023-10-30 00:27:47 +0000 UTC,FinishedAt:2023-10-30 00:28:35 +0000 UTC,ContainerID:containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6,}} {nil nil nil} false 0 docker.io/nba556677/train_tasks:cuda11.6 docker.io/nba556677/train_tasks@sha256:011ac141e5ac61a605792211f09a293996ae05a1b8d21514f6431aa2231d93cf containerd://97276f53c8fa86961fd9de7e87dda9047c160c0c7dea6a4939659832ef01d8f6}],QOSClass:BestEffort,InitContainerStatuses:[],NominatedNodeName:,},}
[ [0;36mdebug[0m ] 2023/10/30 00:34:20 [1;30mcache.go:118:[0m Node map[node2:0xc4200d1640]
[ [0;36mdebug[0m ] 2023/10/30 00:34:20 [1;30mcache.go:155:[0m GetNodeInfo() uses the existing nodeInfo for node2
[ [0;36mdebug[0m ] 2023/10/30 00:34:20 [1;30mdeviceinfo.go:70:[0m dev.removePod() Pod dummy-highest in ns default with the GPU ID 0 will be removed from device map
[ [0;36mdebug[0m ] 2023/10/30 00:34:20 [1;30mdeviceinfo.go:77:[0m dev.removePod() after updated is map[], and its address is 0xc4206709e0
[  [0;32minfo[0m ] 2023/10/30 00:34:20 [1;30mcontroller.go:223:[0m end processNextWorkItem()
